{"code":"!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"\",i(i.s=229)}({229:function(e,t,i){\"use strict\";i.r(t);i(8);figma.clientStorage.getAsync(\"preview\").then(e=>{const t=!(e&&\"hide\"===e);figma.showUI(__html__,{width:t?800:300,height:600})}),figma.ui.onmessage=e=>{if(\"fetch-initial-data\"===e.type&&figma.clientStorage.getAsync(\"preview\").then(e=>{const t=!(e&&\"hide\"===e);figma.ui.postMessage({type:\"set-preview\",preview:t});const i=figma.currentPage.selection;i.length>=1&&figma.ui.postMessage({type:\"set-options\",options:i[0].getPluginData(\"options\")})}),\"hide-preview\"===e.type&&figma.clientStorage.getAsync(\"preview\").then(e=>{figma.clientStorage.setAsync(\"preview\",\"hide\"),figma.ui.resize(300,600)}),\"show-preview\"===e.type&&(figma.clientStorage.setAsync(\"preview\",\"show\"),figma.ui.resize(800,600)),\"preview\"===e.type){const t=figma.currentPage.selection,i=t=>{e.options&&t.setPluginData(\"options\",JSON.stringify(e.options));const i=figma.createImage(e.image);return t.fills=[{type:\"IMAGE\",imageHash:i.hash,scaleMode:\"FILL\"}],t};t.forEach(e=>{\"RECTANGLE\"!==e.type&&\"POLYGON\"!==e.type&&\"ELLIPSE\"!==e.type&&\"VECTOR\"!==e.type||i(e)})}if(\"read-storage\"===e.type&&(console.log(\"-----------msg--------------\"),figma.clientStorage.getAsync(\"_username\").then(e=>{figma.ui.postMessage({type:\"fetched username\",storage:e})}),figma.clientStorage.getAsync(\"_customStyleID\").then(e=>{figma.ui.postMessage({type:\"fetched custom style\",storage:e})})),\"notify-storage\"===e.type&&figma.notify(\"ðŸ’¾ We restored your Mapbox user and Style ID. Default values were: 'ergum' 'ckg6ps8s62b5e19nrr67wqw9u'\",{timeout:6e3}),\"image\"===e.type){const t=figma.currentPage.selection,i=t=>{e.options&&t.setPluginData(\"options\",JSON.stringify(e.options));let i=figma.createImage(e.image);return t.fills=[{type:\"IMAGE\",imageHash:i.hash,scaleMode:\"FILL\"}],t};if(t.forEach(e=>{\"RECTANGLE\"!==e.type&&\"POLYGON\"!==e.type&&\"ELLIPSE\"!==e.type&&\"VECTOR\"!==e.type||i(e)}),figma.ui.postMessage({type:\"map-drawed\",message:\"Map drawed in Figma\"}),0===t.length){const t=i(figma.createRectangle()),{x:n,y:r}=figma.viewport.center;t.x=n,t.y=r,t.resize(e.width,e.height),figma.currentPage.selection=[t],figma.currentPage.appendChild(t),figma.viewport.scrollAndZoomIntoView([t])}if(1===t.length&&\"FRAME\"===t[0].type){const n=t[0];if(\"FRAME\"===n.type){const t=i(figma.createRectangle());figma.currentPage.selection=[t],t.resize(e.width,e.height),n.appendChild(t),figma.viewport.scrollAndZoomIntoView([t])}}figma.closePlugin()}}},8:function(e,t){}});","extractedComments":[]}